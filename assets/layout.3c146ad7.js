import{r as L,V as te,b as X,w as oe,ad as ne,J as _,X as V,c as r,ab as z,G as D,o as ae,Y as W,Z as se,an as ue,ao as le,a as M,aj as ie}from"./index.0b3b7628.js";function re(a){const u=L(),l=L();if(te){const s=new ResizeObserver(t=>{a==null||a(t,s),t.length&&(l.value=t[0].contentRect)});X(()=>{s.disconnect()}),oe(u,(t,i)=>{i&&(s.unobserve(i),l.value=void 0),t&&s.observe(t)},{flush:"post"})}return{resizeRef:u,contentRect:ne(l)}}const A=Symbol.for("vuetify:layout"),Y=Symbol.for("vuetify:layout-item"),U=1e3,fe=_({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),ye=_({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function pe(){const a=V(A);if(!a)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:a.getLayoutItem,mainRect:a.mainRect,mainStyles:a.mainStyles}}function me(a){var f;const u=V(A);if(!u)throw new Error("[Vuetify] Could not find injected layout");const l=(f=a.id)!=null?f:`layout-item-${se()}`,s=D("useLayoutItem");W(Y,{id:l});const t=L(!1);ue(()=>t.value=!0),le(()=>t.value=!1);const{layoutItemStyles:i,layoutItemScrimStyles:v}=u.register(s,{...a,active:r(()=>t.value?!1:a.active.value),id:l});return X(()=>u.unregister(l)),{layoutItemStyles:i,layoutRect:u.layoutRect,layoutItemScrimStyles:v}}const ce=(a,u,l,s)=>{let t={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...t}}];for(const v of a){const f=u.get(v),g=l.get(v),$=s.get(v);if(!f||!g||!$)continue;const h={...t,[f.value]:parseInt(t[f.value],10)+($.value?parseInt(g.value,10):0)};i.push({id:v,layer:h}),t=h}return i};function ge(a){const u=V(A,null),l=r(()=>u?u.rootZIndex.value-100:U),s=L([]),t=z(new Map),i=z(new Map),v=z(new Map),f=z(new Map),g=z(new Map),{resizeRef:$,contentRect:h}=re(),k=r(()=>{var e;const o=new Map,c=(e=a.overlaps)!=null?e:[];for(const p of c.filter(n=>n.includes(":"))){const[n,d]=p.split(":");if(!s.value.includes(n)||!s.value.includes(d))continue;const m=t.get(n),S=t.get(d),R=i.get(n),O=i.get(d);!m||!S||!R||!O||(o.set(d,{position:m.value,amount:parseInt(R.value,10)}),o.set(n,{position:S.value,amount:-parseInt(O.value,10)}))}return o}),b=r(()=>{const o=[...new Set([...v.values()].map(e=>e.value))].sort((e,p)=>e-p),c=[];for(const e of o){const p=s.value.filter(n=>{var d;return((d=v.get(n))==null?void 0:d.value)===e});c.push(...p)}return ce(c,t,i,f)}),j=r(()=>!Array.from(g.values()).some(o=>o.value)),I=r(()=>b.value[b.value.length-1].layer),q=r(()=>({"--v-layout-left":M(I.value.left),"--v-layout-right":M(I.value.right),"--v-layout-top":M(I.value.top),"--v-layout-bottom":M(I.value.bottom),...j.value?void 0:{transition:"none"}})),x=r(()=>b.value.slice(1).map((o,c)=>{let{id:e}=o;const{layer:p}=b.value[c],n=i.get(e),d=t.get(e);return{id:e,...p,size:Number(n.value),position:d.value}})),B=o=>x.value.find(c=>c.id===o),H=D("createLayout"),N=L(!1);ae(()=>{N.value=!0}),W(A,{register:(o,c)=>{let{id:e,order:p,position:n,layoutSize:d,elementSize:m,active:S,disableTransitions:R,absolute:O}=c;v.set(e,p),t.set(e,n),i.set(e,d),f.set(e,S),R&&g.set(e,R);const T=ie(Y,H==null?void 0:H.vnode).indexOf(o);T>-1?s.value.splice(T,0,e):s.value.push(e);const Z=r(()=>x.value.findIndex(w=>w.id===e)),C=r(()=>l.value+b.value.length*2-Z.value*2),J=r(()=>{const w=n.value==="left"||n.value==="right",E=n.value==="right",ee=n.value==="bottom",K={[n.value]:0,zIndex:C.value,transform:`translate${w?"X":"Y"}(${(S.value?0:-110)*(E||ee?-1:1)}%)`,position:O.value||l.value!==U?"absolute":"fixed",...j.value?void 0:{transition:"none"}};if(!N.value)return K;const y=x.value[Z.value];if(!y)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const P=k.value.get(e);return P&&(y[P.position]+=P.amount),{...K,height:w?`calc(100% - ${y.top}px - ${y.bottom}px)`:m.value?`${m.value}px`:void 0,left:E?void 0:`${y.left}px`,right:E?`${y.right}px`:void 0,top:n.value!=="bottom"?`${y.top}px`:void 0,bottom:n.value!=="top"?`${y.bottom}px`:void 0,width:w?m.value?`${m.value}px`:void 0:`calc(100% - ${y.left}px - ${y.right}px)`}}),Q=r(()=>({zIndex:C.value-1}));return{layoutItemStyles:J,layoutItemScrimStyles:Q,zIndex:C}},unregister:o=>{v.delete(o),t.delete(o),i.delete(o),f.delete(o),g.delete(o),s.value=s.value.filter(c=>c!==o)},mainRect:I,mainStyles:q,getLayoutItem:B,items:x,layoutRect:h,rootZIndex:l});const F=r(()=>["v-layout",{"v-layout--full-height":a.fullHeight}]),G=r(()=>({zIndex:l.value,position:u?"relative":void 0,overflow:u?"hidden":void 0}));return{layoutClasses:F,layoutStyles:G,getLayoutItem:B,items:x,layoutRect:h,layoutRef:$}}export{pe as a,fe as b,ge as c,re as d,ye as m,me as u};
